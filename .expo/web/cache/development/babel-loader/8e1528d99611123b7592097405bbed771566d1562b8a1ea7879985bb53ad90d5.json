{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport * as Font from 'expo-font';\nimport { IconComponent } from \"../components/icon\";\nimport { stores } from \"../stores\";\nexport var OnLaunchService = function () {\n  function OnLaunchService() {\n    var _this = this;\n    _classCallCheck(this, OnLaunchService);\n    this.inited = false;\n    this.init = _asyncToGenerator(function* () {\n      if (!_this.inited) {\n        _this.incAppLaunches();\n        yield _this.loadAssets();\n        _this.inited = true;\n      }\n    });\n    this.loadAssets = _asyncToGenerator(function* () {\n      var fonts = [IconComponent.font];\n      var fontAssets = fonts.map(function (font) {\n        return Font.loadAsync(font);\n      });\n      yield Promise.all(_toConsumableArray(fontAssets));\n    });\n  }\n  return _createClass(OnLaunchService, [{\n    key: \"incAppLaunches\",\n    value: function incAppLaunches() {\n      var ui = stores.ui;\n      ui.set('appLaunches', ui.appLaunches + 1);\n    }\n  }]);\n}();","map":{"version":3,"names":["Font","IconComponent","stores","OnLaunchService","_this","_classCallCheck","inited","init","_asyncToGenerator","incAppLaunches","loadAssets","fonts","font","fontAssets","map","loadAsync","Promise","all","_toConsumableArray","_createClass","key","value","ui","set","appLaunches"],"sources":["/workspaces/expo-starter/src/services/onLaunch.ts"],"sourcesContent":["import * as Font from 'expo-font';\nimport {IconComponent} from '@app/components/icon';\nimport {stores} from '@app/stores';\n\nexport class OnLaunchService implements IService {\n  private inited = false;\n\n  init = async (): PVoid => {\n    if (!this.inited) {\n      this.incAppLaunches();\n\n      await this.loadAssets();\n\n      this.inited = true;\n    }\n  };\n\n  private loadAssets = async () => {\n    const fonts = [IconComponent.font];\n\n    const fontAssets = fonts.map(font => Font.loadAsync(font));\n\n    await Promise.all([...fontAssets]);\n  };\n\n  private incAppLaunches() {\n    const {ui} = stores;\n\n    ui.set('appLaunches', ui.appLaunches + 1);\n  }\n}\n"],"mappings":";;;;AAAA,OAAO,KAAKA,IAAI,MAAM,WAAW;AACjC,SAAQC,aAAa;AACrB,SAAQC,MAAM;AAEd,WAAaC,eAAe;EAAA,SAAAA,gBAAA;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAF,eAAA;IAAA,KAClBG,MAAM,GAAG,KAAK;IAAA,KAEtBC,IAAI,GAAAC,iBAAA,CAAG,aAAmB;MACxB,IAAI,CAACJ,KAAI,CAACE,MAAM,EAAE;QAChBF,KAAI,CAACK,cAAc,CAAC,CAAC;QAErB,MAAML,KAAI,CAACM,UAAU,CAAC,CAAC;QAEvBN,KAAI,CAACE,MAAM,GAAG,IAAI;MACpB;IACF,CAAC;IAAA,KAEOI,UAAU,GAAAF,iBAAA,CAAG,aAAY;MAC/B,IAAMG,KAAK,GAAG,CAACV,aAAa,CAACW,IAAI,CAAC;MAElC,IAAMC,UAAU,GAAGF,KAAK,CAACG,GAAG,CAAC,UAAAF,IAAI;QAAA,OAAIZ,IAAI,CAACe,SAAS,CAACH,IAAI,CAAC;MAAA,EAAC;MAE1D,MAAMI,OAAO,CAACC,GAAG,CAAAC,kBAAA,CAAKL,UAAU,CAAC,CAAC;IACpC,CAAC;EAAA;EAAA,OAAAM,YAAA,CAAAhB,eAAA;IAAAiB,GAAA;IAAAC,KAAA,EAED,SAAQZ,cAAcA,CAAA,EAAG;MACvB,IAAOa,EAAE,GAAIpB,MAAM,CAAZoB,EAAE;MAETA,EAAE,CAACC,GAAG,CAAC,aAAa,EAAED,EAAE,CAACE,WAAW,GAAG,CAAC,CAAC;IAC3C;EAAC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}