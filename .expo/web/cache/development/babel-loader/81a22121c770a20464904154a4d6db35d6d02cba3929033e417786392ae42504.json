{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nvar _jsxFileName = \"/workspaces/expo-starter/src/screens/settings.tsx\",\n  _this = this;\nimport React, { useEffect, useState } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Text, View, SegmentedControl, Colors } from 'react-native-ui-lib';\nimport { observer } from 'mobx-react';\nimport { Section } from \"../components/section\";\nimport { Row } from \"../components/row\";\nimport { appearances, appearancesUI, appearanceUIToInternal, languages, languagesUI, languageUIToInternal } from \"../utils/types/enums\";\nimport { useAppearance } from \"../utils/hooks\";\nimport { useStores } from \"../stores\";\nimport { HeaderButton } from \"../components/button\";\nimport { services, useServices } from \"../services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var Settings = observer(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n  useAppearance();\n  var _useStores = useStores(),\n    ui = _useStores.ui;\n  var _useServices = useServices(),\n    navio = _useServices.navio;\n  var navigation = navio.useN();\n  var _useState = useState(ui.appearance),\n    _useState2 = _slicedToArray(_useState, 2),\n    appearance = _useState2[0],\n    setAppearance = _useState2[1];\n  var _useState3 = useState(ui.language),\n    _useState4 = _slicedToArray(_useState3, 2),\n    language = _useState4[0],\n    setLanguage = _useState4[1];\n  var unsavedChanges = ui.appearance !== appearance || ui.language !== language;\n  var appearanceInitialIndex = appearances.findIndex(function (it) {\n    return it === appearance;\n  });\n  var appearanceSegments = appearancesUI.map(function (it) {\n    return {\n      label: it\n    };\n  });\n  var languageInitialIndex = languages.findIndex(function (it) {\n    return it === language;\n  });\n  var languageSegments = languagesUI.map(function (it) {\n    return {\n      label: it\n    };\n  });\n  useEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return unsavedChanges ? _jsxDEV(HeaderButton, {\n          onPress: handleSave,\n          label: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 26\n        }, _this) : null;\n      }\n    });\n  }, [unsavedChanges, appearance, language]);\n  var handleAppearanceIndexChange = function handleAppearanceIndexChange(index) {\n    return setAppearance(appearanceUIToInternal[appearancesUI[index]]);\n  };\n  var handleLanguageIndexChange = function handleLanguageIndexChange(index) {\n    return setLanguage(languageUIToInternal[languagesUI[index]]);\n  };\n  var handleSave = function handleSave() {\n    ui.setMany({\n      appearance: appearance,\n      language: language\n    });\n  };\n  return _jsxDEV(View, {\n    flex: true,\n    \"bg-bgColor\": true,\n    children: _jsxDEV(ScrollView, {\n      contentInsetAdjustmentBehavior: \"always\",\n      children: _jsxDEV(Section, {\n        title: 'UI',\n        children: [_jsxDEV(View, {\n          \"paddingV-s1\": true,\n          children: _jsxDEV(Row, {\n            children: [_jsxDEV(View, {\n              flex: true,\n              children: _jsxDEV(Text, {\n                textColor: true,\n                text60R: true,\n                children: \"Appearance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, _this), _jsxDEV(SegmentedControl, {\n              initialIndex: appearanceInitialIndex,\n              segments: appearanceSegments,\n              backgroundColor: Colors.bgColor,\n              activeColor: Colors.primary,\n              inactiveColor: Colors.textColor,\n              onChangeIndex: handleAppearanceIndexChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, _this), _jsxDEV(View, {\n          \"paddingV-s1\": true,\n          children: _jsxDEV(Row, {\n            children: [_jsxDEV(View, {\n              flex: true,\n              children: _jsxDEV(Text, {\n                textColor: true,\n                text60R: true,\n                children: \"Language\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, _this), _jsxDEV(SegmentedControl, {\n              initialIndex: languageInitialIndex,\n              segments: languageSegments,\n              backgroundColor: Colors.bgColor,\n              activeColor: Colors.primary,\n              inactiveColor: Colors.textColor,\n              onChangeIndex: handleLanguageIndexChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, _this);\n});\nSettings.options = function () {\n  return {\n    title: services.t.do('settings.title')\n  };\n};","map":{"version":3,"names":["React","useEffect","useState","ScrollView","Text","View","SegmentedControl","Colors","observer","Section","Row","appearances","appearancesUI","appearanceUIToInternal","languages","languagesUI","languageUIToInternal","useAppearance","useStores","HeaderButton","services","useServices","jsxDEV","_jsxDEV","Settings","_ref","_objectDestructuringEmpty","_useStores","ui","_useServices","navio","navigation","useN","_useState","appearance","_useState2","_slicedToArray","setAppearance","_useState3","language","_useState4","setLanguage","unsavedChanges","appearanceInitialIndex","findIndex","it","appearanceSegments","map","label","languageInitialIndex","languageSegments","setOptions","headerRight","onPress","handleSave","fileName","_jsxFileName","lineNumber","columnNumber","_this","handleAppearanceIndexChange","index","handleLanguageIndexChange","setMany","flex","children","contentInsetAdjustmentBehavior","title","textColor","text60R","initialIndex","segments","backgroundColor","bgColor","activeColor","primary","inactiveColor","onChangeIndex","options","t","do"],"sources":["/workspaces/expo-starter/src/screens/settings.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {ScrollView} from 'react-native';\nimport {Text, View, SegmentedControl, Colors} from 'react-native-ui-lib';\nimport {observer} from 'mobx-react';\nimport {useNavigation} from '@react-navigation/native';\nimport {NavioScreen} from 'rn-navio';\n\nimport {Section} from '@app/components/section';\nimport {Row} from '@app/components/row';\nimport {\n  appearances,\n  appearancesUI,\n  appearanceUIToInternal,\n  languages,\n  languagesUI,\n  languageUIToInternal,\n} from '@app/utils/types/enums';\nimport {useAppearance} from '@app/utils/hooks';\nimport {useStores} from '@app/stores';\nimport {HeaderButton} from '@app/components/button';\nimport {services, useServices} from '@app/services';\n\nexport const Settings: NavioScreen = observer(({}) => {\n  useAppearance();\n  const {ui} = useStores();\n  const {navio} = useServices();\n  const navigation = navio.useN();\n\n  // State\n  const [appearance, setAppearance] = useState(ui.appearance);\n  const [language, setLanguage] = useState(ui.language);\n\n  // Computed\n  const unsavedChanges = ui.appearance !== appearance || ui.language !== language;\n\n  const appearanceInitialIndex = appearances.findIndex(it => it === appearance);\n  const appearanceSegments = appearancesUI.map(it => ({label: it}));\n\n  const languageInitialIndex = languages.findIndex(it => it === language);\n  const languageSegments = languagesUI.map(it => ({label: it}));\n\n  // Start\n  useEffect(() => {\n    navigation.setOptions({\n      headerRight: () =>\n        unsavedChanges ? <HeaderButton onPress={handleSave} label=\"Save\" /> : null,\n    });\n  }, [unsavedChanges, appearance, language]);\n\n  // Methods\n  const handleAppearanceIndexChange = (index: number) =>\n    setAppearance(appearanceUIToInternal[appearancesUI[index]]);\n  const handleLanguageIndexChange = (index: number) =>\n    setLanguage(languageUIToInternal[languagesUI[index]]);\n\n  const handleSave = () => {\n    ui.setMany({\n      appearance,\n      language,\n    });\n  };\n\n  return (\n    <View flex bg-bgColor>\n      <ScrollView contentInsetAdjustmentBehavior=\"always\">\n        <Section title={'UI'}>\n          <View paddingV-s1>\n            <Row>\n              <View flex>\n                <Text textColor text60R>\n                  Appearance\n                </Text>\n              </View>\n\n              <SegmentedControl\n                initialIndex={appearanceInitialIndex}\n                segments={appearanceSegments}\n                backgroundColor={Colors.bgColor}\n                activeColor={Colors.primary}\n                inactiveColor={Colors.textColor}\n                onChangeIndex={handleAppearanceIndexChange}\n              />\n            </Row>\n          </View>\n\n          <View paddingV-s1>\n            <Row>\n              <View flex>\n                <Text textColor text60R>\n                  Language\n                </Text>\n              </View>\n\n              <SegmentedControl\n                initialIndex={languageInitialIndex}\n                segments={languageSegments}\n                backgroundColor={Colors.bgColor}\n                activeColor={Colors.primary}\n                inactiveColor={Colors.textColor}\n                onChangeIndex={handleLanguageIndexChange}\n              />\n            </Row>\n          </View>\n        </Section>\n      </ScrollView>\n    </View>\n  );\n});\nSettings.options = () => ({\n  title: services.t.do('settings.title'),\n});\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC,OAAAC,UAAA;AAEjD,SAAQC,IAAI,EAAEC,IAAI,EAAEC,gBAAgB,EAAEC,MAAM,QAAO,qBAAqB;AACxE,SAAQC,QAAQ,QAAO,YAAY;AAInC,SAAQC,OAAO;AACf,SAAQC,GAAG;AACX,SACEC,WAAW,EACXC,aAAa,EACbC,sBAAsB,EACtBC,SAAS,EACTC,WAAW,EACXC,oBAAoB;AAEtB,SAAQC,aAAa;AACrB,SAAQC,SAAS;AACjB,SAAQC,YAAY;AACpB,SAAQC,QAAQ,EAAEC,WAAW;AAAuB,SAAAC,MAAA,IAAAC,OAAA;AAEpD,OAAO,IAAMC,QAAqB,GAAGhB,QAAQ,CAAC,UAAAiB,IAAA,EAAQ;EAAAC,yBAAA,CAAAD,IAAA;EACpDR,aAAa,CAAC,CAAC;EACf,IAAAU,UAAA,GAAaT,SAAS,CAAC,CAAC;IAAjBU,EAAE,GAAAD,UAAA,CAAFC,EAAE;EACT,IAAAC,YAAA,GAAgBR,WAAW,CAAC,CAAC;IAAtBS,KAAK,GAAAD,YAAA,CAALC,KAAK;EACZ,IAAMC,UAAU,GAAGD,KAAK,CAACE,IAAI,CAAC,CAAC;EAG/B,IAAAC,SAAA,GAAoC/B,QAAQ,CAAC0B,EAAE,CAACM,UAAU,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAApDC,UAAU,GAAAC,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAgCpC,QAAQ,CAAC0B,EAAE,CAACW,QAAQ,CAAC;IAAAC,UAAA,GAAAJ,cAAA,CAAAE,UAAA;IAA9CC,QAAQ,GAAAC,UAAA;IAAEC,WAAW,GAAAD,UAAA;EAG5B,IAAME,cAAc,GAAGd,EAAE,CAACM,UAAU,KAAKA,UAAU,IAAIN,EAAE,CAACW,QAAQ,KAAKA,QAAQ;EAE/E,IAAMI,sBAAsB,GAAGhC,WAAW,CAACiC,SAAS,CAAC,UAAAC,EAAE;IAAA,OAAIA,EAAE,KAAKX,UAAU;EAAA,EAAC;EAC7E,IAAMY,kBAAkB,GAAGlC,aAAa,CAACmC,GAAG,CAAC,UAAAF,EAAE;IAAA,OAAK;MAACG,KAAK,EAAEH;IAAE,CAAC;EAAA,CAAC,CAAC;EAEjE,IAAMI,oBAAoB,GAAGnC,SAAS,CAAC8B,SAAS,CAAC,UAAAC,EAAE;IAAA,OAAIA,EAAE,KAAKN,QAAQ;EAAA,EAAC;EACvE,IAAMW,gBAAgB,GAAGnC,WAAW,CAACgC,GAAG,CAAC,UAAAF,EAAE;IAAA,OAAK;MAACG,KAAK,EAAEH;IAAE,CAAC;EAAA,CAAC,CAAC;EAG7D5C,SAAS,CAAC,YAAM;IACd8B,UAAU,CAACoB,UAAU,CAAC;MACpBC,WAAW,EAAE,SAAbA,WAAWA,CAAA;QAAA,OACTV,cAAc,GAAGnB,OAAA,CAACJ,YAAY;UAACkC,OAAO,EAAEC,UAAW;UAACN,KAAK,EAAC;QAAM;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAC,KAAE,CAAC,GAAG,IAAI;MAAA;IAC9E,CAAC,CAAC;EACJ,CAAC,EAAE,CAACjB,cAAc,EAAER,UAAU,EAAEK,QAAQ,CAAC,CAAC;EAG1C,IAAMqB,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIC,KAAa;IAAA,OAChDxB,aAAa,CAACxB,sBAAsB,CAACD,aAAa,CAACiD,KAAK,CAAC,CAAC,CAAC;EAAA;EAC7D,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAID,KAAa;IAAA,OAC9CpB,WAAW,CAACzB,oBAAoB,CAACD,WAAW,CAAC8C,KAAK,CAAC,CAAC,CAAC;EAAA;EAEvD,IAAMP,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvB1B,EAAE,CAACmC,OAAO,CAAC;MACT7B,UAAU,EAAVA,UAAU;MACVK,QAAQ,EAARA;IACF,CAAC,CAAC;EACJ,CAAC;EAED,OACEhB,OAAA,CAAClB,IAAI;IAAC2D,IAAI;IAAC,kBAAU;IAAAC,QAAA,EACnB1C,OAAA,CAACpB,UAAU;MAAC+D,8BAA8B,EAAC,QAAQ;MAAAD,QAAA,EACjD1C,OAAA,CAACd,OAAO;QAAC0D,KAAK,EAAE,IAAK;QAAAF,QAAA,GACnB1C,OAAA,CAAClB,IAAI;UAAC,mBAAW;UAAA4D,QAAA,EACf1C,OAAA,CAACb,GAAG;YAAAuD,QAAA,GACF1C,OAAA,CAAClB,IAAI;cAAC2D,IAAI;cAAAC,QAAA,EACR1C,OAAA,CAACnB,IAAI;gBAACgE,SAAS;gBAACC,OAAO;gBAAAJ,QAAA,EAAC;cAExB;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAAM;YAAC;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KACH,CAAC,EAEPpC,OAAA,CAACjB,gBAAgB;cACfgE,YAAY,EAAE3B,sBAAuB;cACrC4B,QAAQ,EAAEzB,kBAAmB;cAC7B0B,eAAe,EAAEjE,MAAM,CAACkE,OAAQ;cAChCC,WAAW,EAAEnE,MAAM,CAACoE,OAAQ;cAC5BC,aAAa,EAAErE,MAAM,CAAC6D,SAAU;cAChCS,aAAa,EAAEjB;YAA4B;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAC5C,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACC;QAAC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAC,KACF,CAAC,EAEPpC,OAAA,CAAClB,IAAI;UAAC,mBAAW;UAAA4D,QAAA,EACf1C,OAAA,CAACb,GAAG;YAAAuD,QAAA,GACF1C,OAAA,CAAClB,IAAI;cAAC2D,IAAI;cAAAC,QAAA,EACR1C,OAAA,CAACnB,IAAI;gBAACgE,SAAS;gBAACC,OAAO;gBAAAJ,QAAA,EAAC;cAExB;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAC,KAAM;YAAC;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KACH,CAAC,EAEPpC,OAAA,CAACjB,gBAAgB;cACfgE,YAAY,EAAErB,oBAAqB;cACnCsB,QAAQ,EAAErB,gBAAiB;cAC3BsB,eAAe,EAAEjE,MAAM,CAACkE,OAAQ;cAChCC,WAAW,EAAEnE,MAAM,CAACoE,OAAQ;cAC5BC,aAAa,EAAErE,MAAM,CAAC6D,SAAU;cAChCS,aAAa,EAAEf;YAA0B;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAC,KAC1C,CAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAC,KACC;QAAC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAC,KACF,CAAC;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KACA;IAAC;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KACA;EAAC;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,GAAAC,KACT,CAAC;AAEX,CAAC,CAAC;AACFnC,QAAQ,CAACsD,OAAO,GAAG;EAAA,OAAO;IACxBX,KAAK,EAAE/C,QAAQ,CAAC2D,CAAC,CAACC,EAAE,CAAC,gBAAgB;EACvC,CAAC;AAAA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}