{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"containerStyle\", \"source\", \"loader\", \"style\", \"onLoad\", \"animationDuration\", \"testID\"];\nvar _jsxFileName = \"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedImage/index.js\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useCallback, useMemo } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated, { useSharedValue, useAnimatedStyle, withTiming } from 'react-native-reanimated';\nimport View from \"../../components/view\";\nimport Image from \"../../components/image\";\nimport { useDidUpdate } from \"../../hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar UIAnimatedImage = Animated.createAnimatedComponent(Image);\nvar _worklet_8964404333244_init_data = {\n  code: \"function anonymous(){const{opacity}=this.__closure;return{opacity:opacity.value};}\",\n  location: \"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedImage/index.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"opacity\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedImage/index.js\\\"],\\\"mappings\\\":\\\"AA4CuC,SAAAA,SAAMA,CAAA,QAAAC,OAAA,OAAAC,SAAA,CACzC,MAAO,CACLD,OAAO,CAAEA,OAAO,CAACE,KACnB,CAAC,CACH\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.6.3\"\n};\nvar AnimatedImage = function AnimatedImage(props) {\n  var containerStyle = props.containerStyle,\n    source = props.source,\n    loader = props.loader,\n    style = props.style,\n    propsOnLoad = props.onLoad,\n    _props$animationDurat = props.animationDuration,\n    animationDuration = _props$animationDurat === void 0 ? 300 : _props$animationDurat,\n    testID = props.testID,\n    others = _objectWithoutProperties(props, _excluded);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var opacity = useSharedValue(0);\n  useDidUpdate(function () {\n    if (!loader) {\n      opacity.value = 1;\n    }\n  }, [loader]);\n  var onLoad = useCallback(function (event) {\n    setIsLoading(false);\n    propsOnLoad == null ? void 0 : propsOnLoad(event);\n    if (opacity.value === 0) {\n      opacity.value = withTiming(1, {\n        duration: animationDuration\n      });\n    }\n  }, [setIsLoading, propsOnLoad, animationDuration]);\n  var fadeInStyle = useAnimatedStyle(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous() {\n      return {\n        opacity: opacity.value\n      };\n    };\n    anonymous.__closure = {\n      opacity: opacity\n    };\n    anonymous.__workletHash = 8964404333244;\n    anonymous.__initData = _worklet_8964404333244_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }());\n  var _style = useMemo(function () {\n    return [style, fadeInStyle];\n  }, [style]);\n  return _jsxDEV(View, {\n    style: containerStyle,\n    children: [_jsxDEV(UIAnimatedImage, _objectSpread(_objectSpread({}, others), {}, {\n      style: _style,\n      source: source,\n      onLoad: onLoad,\n      testID: testID\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this), isLoading && loader && _jsxDEV(View, {\n      style: styles.loader,\n      children: loader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 31\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 10\n  }, _this);\n};\nAnimatedImage.displayName = 'AnimatedImage';\nexport default AnimatedImage;\nvar styles = StyleSheet.create({\n  loader: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    justifyContent: 'center'\n  })\n});","map":{"version":3,"names":["React","useState","useCallback","useMemo","StyleSheet","Animated","useSharedValue","useAnimatedStyle","withTiming","View","Image","useDidUpdate","jsxDEV","_jsxDEV","UIAnimatedImage","createAnimatedComponent","_worklet_8964404333244_init_data","code","location","sourceMap","version","AnimatedImage","props","containerStyle","source","loader","style","propsOnLoad","onLoad","_props$animationDurat","animationDuration","testID","others","_objectWithoutProperties","_excluded","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","opacity","value","event","duration","fadeInStyle","_e","global","Error","anonymous","__closure","__workletHash","__initData","__stackDetails","_style","children","_objectSpread","fileName","_jsxFileName","lineNumber","columnNumber","_this","styles","displayName","create","absoluteFillObject","justifyContent"],"sources":["/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedImage/index.js"],"sourcesContent":["// TODO: consider unify this component functionality with our Image component\nimport React, { useState, useCallback, useMemo } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Animated, { useSharedValue, useAnimatedStyle, withTiming } from 'react-native-reanimated';\nimport View from \"../../components/view\";\nimport Image from \"../../components/image\";\nimport { useDidUpdate } from \"../../hooks\";\nconst UIAnimatedImage = Animated.createAnimatedComponent(Image);\n/**\n * @description: Image component that fades-in the image with animation once it's loaded\n * @extends: Animated.Image\n * @gif: https://media.giphy.com/media/l0HU7jj0ivEFyZIA0/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/AnimatedImageScreen.js\n */\nconst AnimatedImage = props => {\n  const {\n    containerStyle,\n    source,\n    loader,\n    style,\n    onLoad: propsOnLoad,\n    animationDuration = 300,\n    testID,\n    ...others\n  } = props;\n  const [isLoading, setIsLoading] = useState(true);\n  const opacity = useSharedValue(0);\n  useDidUpdate(() => {\n    if (!loader) {\n      opacity.value = 1;\n    }\n  }, [loader]);\n  const onLoad = useCallback(event => {\n    setIsLoading(false);\n    propsOnLoad?.(event);\n    // did not start the animation already\n    if (opacity.value === 0) {\n      opacity.value = withTiming(1, {\n        duration: animationDuration\n      });\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [setIsLoading, propsOnLoad, animationDuration]);\n  const fadeInStyle = useAnimatedStyle(() => {\n    return {\n      opacity: opacity.value\n    };\n  });\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const _style = useMemo(() => [style, fadeInStyle], [style]);\n  return <View style={containerStyle}>\n      <UIAnimatedImage {...others} style={_style} source={source} onLoad={onLoad} testID={testID} />\n      {isLoading && loader && <View style={styles.loader}>{loader}</View>}\n    </View>;\n};\nAnimatedImage.displayName = 'AnimatedImage';\nexport default AnimatedImage;\nconst styles = StyleSheet.create({\n  loader: {\n    ...StyleSheet.absoluteFillObject,\n    justifyContent: 'center'\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}