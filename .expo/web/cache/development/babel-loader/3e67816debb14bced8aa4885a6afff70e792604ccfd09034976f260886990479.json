{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/workspaces/expo-starter/src/screens/auth/login.tsx\",\n  _this = this;\nimport React, { useEffect, useState } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { TextInput } from 'react-native-gesture-handler';\nimport { View, Text, Colors } from 'react-native-ui-lib';\nimport { observer } from 'mobx-react';\nimport { useStores } from \"../../stores\";\nimport { useServices } from \"../../services\";\nimport { useAppearance } from \"../../utils/hooks\";\nimport { BButton } from \"../../components/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var AuthLogin = observer(function (_ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'push' : _ref$type;\n  useAppearance();\n  var _useServices = useServices(),\n    t = _useServices.t,\n    navio = _useServices.navio,\n    api = _useServices.api;\n  var _useStores = useStores(),\n    auth = _useStores.auth;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  useEffect(function () {\n    configureUI();\n  }, []);\n  var login = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setLoading(true);\n      try {\n        var _yield$api$auth$login = yield api.auth.login(),\n          status = _yield$api$auth$login.status;\n        if (status === 'success') {\n          auth.set('state', 'logged-in');\n          navio.setRoot('tabs', 'AppTabs');\n        }\n      } catch (e) {} finally {\n        setLoading(false);\n      }\n    });\n    return function login() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var configureUI = function configureUI() {};\n  var setEmail = function setEmail(v) {\n    return auth.set('email', v);\n  };\n  return _jsxDEV(View, {\n    flex: true,\n    \"bg-bgColor\": true,\n    children: _jsxDEV(ScrollView, {\n      contentInsetAdjustmentBehavior: \"always\",\n      children: _jsxDEV(View, {\n        children: [_jsxDEV(View, {\n          flex: true,\n          centerH: true,\n          \"marginT-30\": true,\n          children: [_jsxDEV(Text, {\n            text50: true,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, _this), _jsxDEV(Text, {\n            grey30: true,\n            \"marginT-4\": true,\n            children: \"just fill in any credentials\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, _this), _jsxDEV(View, {\n          \"marginT-s6\": true,\n          centerH: true,\n          children: [_jsxDEV(View, {\n            \"paddingH-s4\": true,\n            \"marginV-s10\": true,\n            style: {\n              width: 300,\n              borderWidth: 1,\n              borderColor: Colors.grey50,\n              borderRadius: 12\n            },\n            children: [_jsxDEV(View, {\n              \"paddingH-s3\": true,\n              \"paddingV-s2\": true,\n              \"marginV-s4\": true,\n              children: _jsxDEV(TextInput, {\n                placeholder: 'Email',\n                value: auth.email,\n                onChangeText: setEmail,\n                keyboardType: \"email-address\",\n                inputMode: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, _this), _jsxDEV(View, {\n              centerH: true,\n              children: _jsxDEV(View, {\n                height: 1,\n                \"bg-grey50\": true,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, _this), _jsxDEV(View, {\n              \"paddingH-s3\": true,\n              \"paddingV-s2\": true,\n              \"marginV-s4\": true,\n              children: _jsxDEV(TextInput, {\n                placeholder: 'Password',\n                value: password,\n                onChangeText: setPassword,\n                keyboardType: \"visible-password\",\n                secureTextEntry: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, _this), _jsxDEV(BButton, {\n            label: loading ? 'Logging in ...' : 'Login',\n            onPress: login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, _this);\n});\nAuthLogin.options = function (props) {\n  return {\n    title: `Auth flow`\n  };\n};","map":{"version":3,"names":["React","useEffect","useState","ScrollView","TextInput","View","Text","Colors","observer","useStores","useServices","useAppearance","BButton","jsxDEV","_jsxDEV","AuthLogin","_ref","_ref$type","type","_useServices","t","navio","api","_useStores","auth","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","password","setPassword","configureUI","login","_ref2","_asyncToGenerator","_yield$api$auth$login","status","set","setRoot","e","apply","arguments","setEmail","v","flex","children","contentInsetAdjustmentBehavior","centerH","text50","fileName","_jsxFileName","lineNumber","columnNumber","_this","grey30","style","width","borderWidth","borderColor","grey50","borderRadius","placeholder","value","email","onChangeText","keyboardType","inputMode","height","secureTextEntry","label","onPress","options","props","title"],"sources":["/workspaces/expo-starter/src/screens/auth/login.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {ScrollView} from 'react-native';\nimport {TextInput} from 'react-native-gesture-handler';\nimport {View, Text, Colors} from 'react-native-ui-lib';\nimport {observer} from 'mobx-react';\nimport {NavioScreen} from 'rn-navio';\n\nimport {useStores} from '@app/stores';\nimport {useServices} from '@app/services';\nimport {useAppearance} from '@app/utils/hooks';\nimport {BButton} from '@app/components/button';\n\nexport type Props = {\n  type?: 'push';\n};\n\nexport const AuthLogin: NavioScreen<Props> = observer(({type = 'push'}) => {\n  useAppearance(); // for Dark Mode\n  const {t, navio, api} = useServices();\n  const {auth} = useStores();\n\n  // State\n  const [loading, setLoading] = useState(false);\n  const [password, setPassword] = useState('');\n\n  // Start\n  useEffect(() => {\n    configureUI();\n  }, []);\n\n  // API Methods\n  const login = async () => {\n    setLoading(true);\n\n    try {\n      const {status} = await api.auth.login(); // fake login\n\n      if (status === 'success') {\n        // marking that we are logged in\n        auth.set('state', 'logged-in');\n\n        // navigating to main app\n        navio.setRoot('tabs', 'AppTabs');\n      }\n    } catch (e) {\n      // handle error\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Methods\n  const configureUI = () => {};\n\n  const setEmail = (v: string) => auth.set('email', v);\n\n  return (\n    <View flex bg-bgColor>\n      <ScrollView contentInsetAdjustmentBehavior=\"always\">\n        <View>\n          <View flex centerH marginT-30>\n            <Text text50>Login</Text>\n\n            <Text grey30 marginT-4>\n              just fill in any credentials\n            </Text>\n          </View>\n\n          <View marginT-s6 centerH>\n            <View\n              paddingH-s4\n              marginV-s10\n              style={{width: 300, borderWidth: 1, borderColor: Colors.grey50, borderRadius: 12}}\n            >\n              <View paddingH-s3 paddingV-s2 marginV-s4>\n                <TextInput\n                  placeholder={'Email'}\n                  value={auth.email}\n                  onChangeText={setEmail}\n                  keyboardType=\"email-address\"\n                  inputMode=\"email\"\n                />\n              </View>\n\n              <View centerH>\n                <View height={1} bg-grey50 style={{width: '100%'}} />\n              </View>\n\n              <View paddingH-s3 paddingV-s2 marginV-s4>\n                <TextInput\n                  placeholder={'Password'}\n                  value={password}\n                  onChangeText={setPassword}\n                  keyboardType=\"visible-password\"\n                  secureTextEntry\n                />\n              </View>\n            </View>\n\n            <BButton label={loading ? 'Logging in ...' : 'Login'} onPress={login} />\n          </View>\n        </View>\n      </ScrollView>\n    </View>\n  );\n});\nAuthLogin.options = props => ({\n  title: `Auth flow`,\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}