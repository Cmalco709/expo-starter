{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/incubator/TextField/FloatingPlaceholder.js\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useContext, useRef, useCallback, useState, useMemo } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useDidUpdate } from \"../../hooks\";\nimport { ValidationMessagePosition } from \"./types\";\nimport { getColorByState, shouldPlaceholderFloat } from \"./Presenter\";\nimport { Colors } from \"../../style\";\nimport { Constants } from \"../../commons/new\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport FieldContext from \"./FieldContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar FLOATING_PLACEHOLDER_SCALE = 0.875;\nvar FloatingPlaceholder = function FloatingPlaceholder(props) {\n  var placeholder = props.placeholder,\n    _props$floatingPlaceh = props.floatingPlaceholderColor,\n    floatingPlaceholderColor = _props$floatingPlaceh === void 0 ? Colors.$textNeutralLight : _props$floatingPlaceh,\n    floatingPlaceholderStyle = props.floatingPlaceholderStyle,\n    validationMessagePosition = props.validationMessagePosition,\n    _props$extraOffset = props.extraOffset,\n    extraOffset = _props$extraOffset === void 0 ? 0 : _props$extraOffset,\n    testID = props.testID;\n  var context = useContext(FieldContext);\n  var _useState = useState({\n      top: 0,\n      left: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    placeholderOffset = _useState2[0],\n    setPlaceholderOffset = _useState2[1];\n  var shouldFloat = shouldPlaceholderFloat(props, context.isFocused, context.hasValue, context.value);\n  var animation = useRef(new Animated.Value(Number(shouldFloat))).current;\n  var hidePlaceholder = !context.isValid && validationMessagePosition === ValidationMessagePosition.TOP;\n  useDidUpdate(function () {\n    Animated.timing(animation, {\n      toValue: Number(shouldFloat),\n      duration: 200,\n      useNativeDriver: true\n    }).start();\n  }, [shouldFloat]);\n  var animatedStyle = useMemo(function () {\n    return {\n      transform: [{\n        scale: interpolateValue(animation, [1, FLOATING_PLACEHOLDER_SCALE])\n      }, {\n        translateX: interpolateValue(animation, [0, -placeholderOffset.left - extraOffset / FLOATING_PLACEHOLDER_SCALE])\n      }, {\n        translateY: interpolateValue(animation, [0, -placeholderOffset.top])\n      }]\n    };\n  }, [placeholderOffset, extraOffset]);\n  var style = useMemo(function () {\n    return [styles.placeholder, floatingPlaceholderStyle, animatedStyle];\n  }, [floatingPlaceholderStyle, animatedStyle]);\n  var onPlaceholderLayout = useCallback(function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n      width = _event$nativeEvent$la.width,\n      height = _event$nativeEvent$la.height;\n    var translate = width / 2 - width * FLOATING_PLACEHOLDER_SCALE / 2;\n    translate = Constants.isRTL ? -translate : translate;\n    setPlaceholderOffset({\n      left: translate / FLOATING_PLACEHOLDER_SCALE,\n      top: height\n    });\n  }, []);\n  return _jsxDEV(View, {\n    absF: true,\n    style: hidePlaceholder && styles.hidden,\n    pointerEvents: 'none',\n    children: _jsxDEV(Text, {\n      animated: true,\n      color: getColorByState(floatingPlaceholderColor, context),\n      style: style,\n      onLayout: onPlaceholderLayout,\n      testID: testID,\n      children: placeholder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  placeholder: _objectSpread({}, Platform.select({\n    android: {\n      textAlignVertical: 'center',\n      flexShrink: 1\n    }\n  })),\n  hidden: {\n    opacity: 0\n  }\n});\nfunction interpolateValue(animatedValue, outputRange) {\n  return animatedValue.interpolate({\n    inputRange: [0, 1],\n    outputRange: outputRange\n  });\n}\nFloatingPlaceholder.displayName = 'Incubator.TextField';\nexport default FloatingPlaceholder;","map":{"version":3,"names":["React","useContext","useRef","useCallback","useState","useMemo","Animated","StyleSheet","Platform","useDidUpdate","ValidationMessagePosition","getColorByState","shouldPlaceholderFloat","Colors","Constants","View","Text","FieldContext","jsxDEV","_jsxDEV","FLOATING_PLACEHOLDER_SCALE","FloatingPlaceholder","props","placeholder","_props$floatingPlaceh","floatingPlaceholderColor","$textNeutralLight","floatingPlaceholderStyle","validationMessagePosition","_props$extraOffset","extraOffset","testID","context","_useState","top","left","_useState2","_slicedToArray","placeholderOffset","setPlaceholderOffset","shouldFloat","isFocused","hasValue","value","animation","Value","Number","current","hidePlaceholder","isValid","TOP","timing","toValue","duration","useNativeDriver","start","animatedStyle","transform","scale","interpolateValue","translateX","translateY","style","styles","onPlaceholderLayout","event","_event$nativeEvent$la","nativeEvent","layout","width","height","translate","isRTL","absF","hidden","pointerEvents","children","animated","color","onLayout","fileName","_jsxFileName","lineNumber","columnNumber","_this","create","_objectSpread","select","android","textAlignVertical","flexShrink","opacity","animatedValue","outputRange","interpolate","inputRange","displayName"],"sources":["/workspaces/expo-starter/node_modules/react-native-ui-lib/src/incubator/TextField/FloatingPlaceholder.js"],"sourcesContent":["import React, { useContext, useRef, useCallback, useState, useMemo } from 'react';\nimport { Animated, StyleSheet, Platform } from 'react-native';\nimport { useDidUpdate } from \"../../hooks\";\nimport { ValidationMessagePosition } from \"./types\";\nimport { getColorByState, shouldPlaceholderFloat } from \"./Presenter\";\nimport { Colors } from \"../../style\";\nimport { Constants } from \"../../commons/new\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport FieldContext from \"./FieldContext\";\nconst FLOATING_PLACEHOLDER_SCALE = 0.875;\nconst FloatingPlaceholder = props => {\n  const {\n    placeholder,\n    floatingPlaceholderColor = Colors.$textNeutralLight,\n    floatingPlaceholderStyle,\n    validationMessagePosition,\n    extraOffset = 0,\n    testID\n  } = props;\n  const context = useContext(FieldContext);\n  const [placeholderOffset, setPlaceholderOffset] = useState({\n    top: 0,\n    left: 0\n  });\n  const shouldFloat = shouldPlaceholderFloat(props, context.isFocused, context.hasValue, context.value);\n  const animation = useRef(new Animated.Value(Number(shouldFloat))).current;\n  const hidePlaceholder = !context.isValid && validationMessagePosition === ValidationMessagePosition.TOP;\n  useDidUpdate(() => {\n    Animated.timing(animation, {\n      toValue: Number(shouldFloat),\n      duration: 200,\n      useNativeDriver: true\n    }).start();\n  }, [shouldFloat]);\n  const animatedStyle = useMemo(() => {\n    return {\n      transform: [{\n        scale: interpolateValue(animation, [1, FLOATING_PLACEHOLDER_SCALE])\n      }, {\n        translateX: interpolateValue(animation, [0, -placeholderOffset.left - extraOffset / FLOATING_PLACEHOLDER_SCALE])\n      }, {\n        translateY: interpolateValue(animation, [0, -placeholderOffset.top])\n      }]\n    };\n  }, [placeholderOffset, extraOffset]);\n  const style = useMemo(() => [styles.placeholder, floatingPlaceholderStyle, animatedStyle], [floatingPlaceholderStyle, animatedStyle]);\n  const onPlaceholderLayout = useCallback(event => {\n    const {\n      width,\n      height\n    } = event.nativeEvent.layout;\n    let translate = width / 2 - width * FLOATING_PLACEHOLDER_SCALE / 2;\n    translate = Constants.isRTL ? -translate : translate;\n    setPlaceholderOffset({\n      left: translate / FLOATING_PLACEHOLDER_SCALE,\n      top: height\n    });\n  }, []);\n  return <View absF style={hidePlaceholder && styles.hidden} pointerEvents={'none'}>\n      <Text animated color={getColorByState(floatingPlaceholderColor, context)} style={style} onLayout={onPlaceholderLayout} testID={testID}>\n        {placeholder}\n      </Text>\n    </View>;\n};\nconst styles = StyleSheet.create({\n  placeholder: {\n    ...Platform.select({\n      android: {\n        textAlignVertical: 'center',\n        flexShrink: 1\n      }\n    })\n  },\n  hidden: {\n    opacity: 0\n  }\n});\nfunction interpolateValue(animatedValue, outputRange) {\n  return animatedValue.interpolate({\n    inputRange: [0, 1],\n    outputRange\n  });\n}\nFloatingPlaceholder.displayName = 'Incubator.TextField';\nexport default FloatingPlaceholder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}