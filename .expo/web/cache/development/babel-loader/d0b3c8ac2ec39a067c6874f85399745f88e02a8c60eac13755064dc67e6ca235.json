{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedScanner/index.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { ViewPropTypes } from 'deprecated-react-native-prop-types';\nimport { Colors } from \"../../style\";\nimport { BaseComponent } from \"../../commons\";\nimport View from \"../../components/view\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AnimatedScanner = function (_BaseComponent) {\n  function AnimatedScanner(props) {\n    var _this;\n    _classCallCheck(this, AnimatedScanner);\n    _this = _callSuper(this, AnimatedScanner, [props]);\n    _this.state = {\n      animatedProgress: new Animated.Value(0),\n      isDone: false\n    };\n    return _this;\n  }\n  _inherits(AnimatedScanner, _BaseComponent);\n  return _createClass(AnimatedScanner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n        progress = _this$props.progress,\n        duration = _this$props.duration;\n      if (progress > 0) {\n        this.animate(progress, duration);\n      }\n    }\n  }, {\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props2 = this.props,\n        progress = _this$props2.progress,\n        duration = _this$props2.duration;\n      if (prevProps.progress !== progress) {\n        this.animate(progress, duration);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.state.animatedProgress.stopAnimation();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(toValue, duration) {\n      var _this2 = this;\n      var animatedProgress = this.state.animatedProgress;\n      Animated.timing(animatedProgress, {\n        toValue: toValue,\n        duration: duration,\n        useNativeDriver: false\n      }).start(function (_ref) {\n        var finished = _ref.finished;\n        if (finished) {\n          var isDone = toValue >= 100;\n          _this2.setState({\n            isDone: isDone\n          });\n          _.invoke(_this2.props, 'onBreakpoint', {\n            progress: toValue,\n            isDone: isDone\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        opacity = _this$props3.opacity,\n        backgroundColor = _this$props3.backgroundColor,\n        hideScannerLine = _this$props3.hideScannerLine,\n        style = _this$props3.style,\n        containerStyle = _this$props3.containerStyle,\n        testID = _this$props3.testID;\n      var _this$state = this.state,\n        isDone = _this$state.isDone,\n        animatedProgress = _this$state.animatedProgress;\n      return _jsxDEV(View, {\n        style: [_objectSpread({}, StyleSheet.absoluteFillObject), containerStyle],\n        children: _jsxDEV(Animated.View, {\n          style: [this.styles.container, style, opacity && {\n            opacity: opacity\n          }, backgroundColor && {\n            backgroundColor: backgroundColor\n          }, {\n            left: animatedProgress.interpolate({\n              inputRange: [0, 100],\n              outputRange: ['0%', '100%']\n            })\n          }],\n          testID: testID,\n          children: isDone && !hideScannerLine && _jsxDEV(View, {\n            style: this.styles.scanner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n}(BaseComponent);\nAnimatedScanner.displayName = 'AnimatedScanner';\nAnimatedScanner.propTypes = {\n  progress: PropTypes.number,\n  duration: PropTypes.number,\n  opacity: PropTypes.number,\n  backgroundColor: PropTypes.string,\n  onBreakpoint: PropTypes.func,\n  hideScannerLine: PropTypes.bool,\n  containerStyle: ViewPropTypes.style,\n  testID: PropTypes.string\n};\nAnimatedScanner.defaultProps = {\n  progress: 0,\n  duration: 1000\n};\nexport { AnimatedScanner as default };\nfunction createStyles() {\n  return StyleSheet.create({\n    container: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n      backgroundColor: Colors.white,\n      opacity: 0.9\n    }),\n    scanner: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n      borderWidth: StyleSheet.hairlineWidth,\n      borderColor: Colors.grey50\n    })\n  });\n}","map":{"version":3,"names":["_","PropTypes","React","StyleSheet","Animated","ViewPropTypes","Colors","BaseComponent","View","jsxDEV","_jsxDEV","AnimatedScanner","_BaseComponent","props","_this","_classCallCheck","_callSuper","state","animatedProgress","Value","isDone","_inherits","_createClass","key","value","componentDidMount","_this$props","progress","duration","animate","generateStyles","styles","createStyles","componentDidUpdate","prevProps","_this$props2","componentWillUnmount","stopAnimation","toValue","_this2","timing","useNativeDriver","start","_ref","finished","setState","invoke","render","_this$props3","opacity","backgroundColor","hideScannerLine","style","containerStyle","testID","_this$state","_objectSpread","absoluteFillObject","children","container","left","interpolate","inputRange","outputRange","scanner","fileName","_jsxFileName","lineNumber","columnNumber","displayName","propTypes","number","string","onBreakpoint","func","bool","defaultProps","default","create","white","borderWidth","hairlineWidth","borderColor","grey50"],"sources":["/workspaces/expo-starter/node_modules/react-native-ui-lib/src/components/animatedScanner/index.js"],"sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {StyleSheet, Animated} from 'react-native';\nimport {ViewPropTypes} from 'deprecated-react-native-prop-types';\nimport {Colors} from '../../style';\nimport {BaseComponent} from '../../commons';\nimport View from '../../components/view';\n\n// TODO: add finisher animation (check icon animation or something)\n/**\n * @description: Scanner component for progress indication\n * @extends: Animated.View\n * @gif: https://media.giphy.com/media/l49JVcxoclUXbryiA/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/CardScannerScreen.js\n */\nexport default class AnimatedScanner extends BaseComponent {\n  static displayName = 'AnimatedScanner';\n  static propTypes = {\n    /**\n     * animated value between 0 and 100\n     */\n    // progress: PropTypes.object,\n    progress: PropTypes.number,\n    /**\n     * Duration of current break (can be change between breaks)\n     */\n    duration: PropTypes.number,\n    /**\n     * scanner opacity\n     */\n    opacity: PropTypes.number,\n    /**\n     * scanner background color\n     */\n    backgroundColor: PropTypes.string,\n    /**\n     * breakpoint callback - ({progress, isDone}) => {}\n     */\n    onBreakpoint: PropTypes.func,\n    /**\n     * should hide the scanner line\n     */\n    hideScannerLine: PropTypes.bool,\n    /**\n     * the container style\n     */\n    containerStyle: ViewPropTypes.style,\n    /**\n     * Used as a testing identifier\n     */\n    testID: PropTypes.string\n  };\n\n  static defaultProps = {\n    progress: 0,\n    duration: 1000\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animatedProgress: new Animated.Value(0),\n      isDone: false\n    };\n  }\n\n  componentDidMount() {\n    const {progress, duration} = this.props;\n\n    if (progress > 0) {\n      this.animate(progress, duration);\n    }\n  }\n\n  generateStyles() {\n    this.styles = createStyles(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {progress, duration} = this.props;\n\n    if (prevProps.progress !== progress) {\n      this.animate(progress, duration);\n    }\n  }\n\n  componentWillUnmount() {\n    this.state.animatedProgress.stopAnimation();\n  }\n\n  animate(toValue, duration) {\n    const {animatedProgress} = this.state;\n\n    Animated.timing(animatedProgress, {\n      toValue,\n      duration,\n      useNativeDriver: false\n    }).start(({finished}) => {\n      if (finished) {\n        const isDone = toValue >= 100;\n        this.setState({isDone});\n        _.invoke(this.props, 'onBreakpoint', {progress: toValue, isDone});\n      }\n    });\n  }\n\n  render() {\n    const {opacity, backgroundColor, hideScannerLine, style, containerStyle, testID} = this.props;\n    const {isDone, animatedProgress} = this.state;\n\n    return (\n      <View style={[{...StyleSheet.absoluteFillObject}, containerStyle]}>\n        <Animated.View\n          style={[\n            this.styles.container,\n            style,\n            opacity && {opacity},\n            backgroundColor && {backgroundColor},\n            {\n              left: animatedProgress.interpolate({\n                inputRange: [0, 100],\n                outputRange: ['0%', '100%']\n              })\n            }\n          ]}\n          testID={testID}\n        >\n          {isDone && !hideScannerLine && <View style={this.styles.scanner}/>}\n        </Animated.View>\n      </View>\n    );\n  }\n}\n\nfunction createStyles() {\n  return StyleSheet.create({\n    container: {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor: Colors.white,\n      opacity: 0.9\n    },\n    scanner: {\n      ...StyleSheet.absoluteFillObject,\n      borderWidth: StyleSheet.hairlineWidth,\n      borderColor: Colors.grey50\n    }\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}