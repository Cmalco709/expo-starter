{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { makeAutoObservable } from 'mobx';\nimport { hydrateStore, makePersistable } from 'mobx-persist-store';\nexport var AuthStore = function () {\n  function AuthStore() {\n    var _this = this;\n    _classCallCheck(this, AuthStore);\n    this.state = 'logged-out';\n    this.email = '';\n    this.hydrate = _asyncToGenerator(function* () {\n      yield hydrateStore(_this);\n    });\n    makeAutoObservable(this);\n    makePersistable(this, {\n      name: AuthStore.name,\n      properties: ['email', 'state']\n    });\n  }\n  return _createClass(AuthStore, [{\n    key: \"stateStr\",\n    get: function get() {\n      return this.state === 'logged-in' ? `Email: ${this.email}\\nPress to logout` : 'Press to login';\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      this.setMany({\n        state: 'logged-out',\n        email: ''\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(what, value) {\n      this[what] = value;\n    }\n  }, {\n    key: \"setMany\",\n    value: function setMany(obj) {\n      for (var _ref2 of Object.entries(obj)) {\n        var _ref3 = _slicedToArray(_ref2, 2);\n        var k = _ref3[0];\n        var v = _ref3[1];\n        this.set(k, v);\n      }\n    }\n  }]);\n}();","map":{"version":3,"names":["makeAutoObservable","hydrateStore","makePersistable","AuthStore","_this","_classCallCheck","state","email","hydrate","_asyncToGenerator","name","properties","_createClass","key","get","value","logout","setMany","set","what","obj","_ref2","Object","entries","_ref3","_slicedToArray","k","v"],"sources":["/workspaces/expo-starter/src/stores/auth.ts"],"sourcesContent":["import {makeAutoObservable} from 'mobx';\nimport {hydrateStore, makePersistable} from 'mobx-persist-store';\n\ntype AuthState = 'logged-in' | 'logged-out';\nexport class AuthStore implements IStore {\n  state: AuthState = 'logged-out';\n  email = '';\n\n  // getters\n  get stateStr() {\n    return this.state === 'logged-in' ? `Email: ${this.email}\\nPress to logout` : 'Press to login';\n  }\n\n  // methods\n  logout() {\n    this.setMany({\n      state: 'logged-out',\n      email: '',\n    });\n  }\n\n  constructor() {\n    makeAutoObservable(this);\n\n    makePersistable(this, {\n      name: AuthStore.name,\n      properties: ['email', 'state'],\n    });\n  }\n\n  // Unified set methods\n  set<T extends StoreKeysOf<AuthStore>>(what: T, value: AuthStore[T]) {\n    (this as AuthStore)[what] = value;\n  }\n  setMany<T extends StoreKeysOf<AuthStore>>(obj: Record<T, AuthStore[T]>) {\n    for (const [k, v] of Object.entries(obj)) {\n      this.set(k as T, v as AuthStore[T]);\n    }\n  }\n\n  // Hydration\n  hydrate = async (): PVoid => {\n    await hydrateStore(this);\n  };\n}\n"],"mappings":";;;;AAAA,SAAQA,kBAAkB,QAAO,MAAM;AACvC,SAAQC,YAAY,EAAEC,eAAe,QAAO,oBAAoB;AAGhE,WAAaC,SAAS;EAiBpB,SAAAA,UAAA,EAAc;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAF,SAAA;IAAA,KAhBdG,KAAK,GAAc,YAAY;IAAA,KAC/BC,KAAK,GAAG,EAAE;IAAA,KAmCVC,OAAO,GAAAC,iBAAA,CAAG,aAAmB;MAC3B,MAAMR,YAAY,CAACG,KAAI,CAAC;IAC1B,CAAC;IArBCJ,kBAAkB,CAAC,IAAI,CAAC;IAExBE,eAAe,CAAC,IAAI,EAAE;MACpBQ,IAAI,EAAEP,SAAS,CAACO,IAAI;MACpBC,UAAU,EAAE,CAAC,OAAO,EAAE,OAAO;IAC/B,CAAC,CAAC;EACJ;EAAC,OAAAC,YAAA,CAAAT,SAAA;IAAAU,GAAA;IAAAC,GAAA,EAnBD,SAAAA,IAAA,EAAe;MACb,OAAO,IAAI,CAACR,KAAK,KAAK,WAAW,GAAG,UAAU,IAAI,CAACC,KAAK,mBAAmB,GAAG,gBAAgB;IAChG;EAAC;IAAAM,GAAA;IAAAE,KAAA,EAGD,SAAAC,MAAMA,CAAA,EAAG;MACP,IAAI,CAACC,OAAO,CAAC;QACXX,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;EAAC;IAAAM,GAAA;IAAAE,KAAA,EAYD,SAAAG,GAAGA,CAAmCC,IAAO,EAAEJ,KAAmB,EAAE;MACjE,IAAI,CAAeI,IAAI,CAAC,GAAGJ,KAAK;IACnC;EAAC;IAAAF,GAAA;IAAAE,KAAA,EACD,SAAAE,OAAOA,CAAmCG,GAA4B,EAAE;MACtE,SAAAC,KAAA,IAAqBC,MAAM,CAACC,OAAO,CAACH,GAAG,CAAC,EAAE;QAAA,IAAAI,KAAA,GAAAC,cAAA,CAAAJ,KAAA;QAAA,IAA9BK,CAAC,GAAAF,KAAA;QAAA,IAAEG,CAAC,GAAAH,KAAA;QACd,IAAI,CAACN,GAAG,CAACQ,CAAC,EAAOC,CAAiB,CAAC;MACrC;IACF;EAAC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}