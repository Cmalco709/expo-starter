{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport * as Localization from 'expo-localization';\nimport { I18n } from 'i18n-js';\nimport { stores } from \"../../stores\";\nimport * as translations from \"./translations\";\nexport var TranslateService = _createClass(function TranslateService() {\n  var _this = this;\n  _classCallCheck(this, TranslateService);\n  this.inited = false;\n  this.i18n = new I18n(translations);\n  this.init = _asyncToGenerator(function* () {\n    if (!_this.inited) {\n      _this.setup();\n      _this.inited = true;\n    }\n  });\n  this.do = function (scope, options) {\n    return _this.i18n.t(scope, options);\n  };\n  this.setup = function () {\n    var ui = stores.ui;\n    var lng = Localization.locale;\n    _this.i18n.enableFallback = true;\n    _this.i18n.locale = ui.isLanguageSystem ? lng : ui.language;\n  };\n});","map":{"version":3,"names":["Localization","I18n","stores","translations","TranslateService","_createClass","_this","_classCallCheck","inited","i18n","init","_asyncToGenerator","setup","do","scope","options","t","ui","lng","locale","enableFallback","isLanguageSystem","language"],"sources":["/workspaces/expo-starter/src/services/translate/index.ts"],"sourcesContent":["import * as Localization from 'expo-localization';\nimport {I18n, Scope, TranslateOptions} from 'i18n-js';\n\nimport {stores} from '@app/stores';\nimport * as translations from './translations';\n\nexport class TranslateService implements IService {\n  private inited = false;\n  private i18n = new I18n(translations);\n\n  init = async (): PVoid => {\n    if (!this.inited) {\n      this.setup();\n\n      this.inited = true;\n    }\n  };\n\n  do = (scope: Scope, options?: TranslateOptions | undefined) => this.i18n.t(scope, options);\n\n  setup = (): void => {\n    const {ui} = stores;\n    const lng = Localization.locale;\n\n    this.i18n.enableFallback = true;\n    this.i18n.locale = ui.isLanguageSystem ? lng : ui.language;\n  };\n}\n"],"mappings":";;;AAAA,OAAO,KAAKA,YAAY,MAAM,mBAAmB;AACjD,SAAQC,IAAI,QAAgC,SAAS;AAErD,SAAQC,MAAM;AACd,OAAO,KAAKC,YAAY;AAExB,WAAaC,gBAAgB,GAAAC,YAAA,UAAAD,iBAAA;EAAA,IAAAE,KAAA;EAAAC,eAAA,OAAAH,gBAAA;EAAA,KACnBI,MAAM,GAAG,KAAK;EAAA,KACdC,IAAI,GAAG,IAAIR,IAAI,CAACE,YAAY,CAAC;EAAA,KAErCO,IAAI,GAAAC,iBAAA,CAAG,aAAmB;IACxB,IAAI,CAACL,KAAI,CAACE,MAAM,EAAE;MAChBF,KAAI,CAACM,KAAK,CAAC,CAAC;MAEZN,KAAI,CAACE,MAAM,GAAG,IAAI;IACpB;EACF,CAAC;EAAA,KAEDK,EAAE,GAAG,UAACC,KAAY,EAAEC,OAAsC;IAAA,OAAKT,KAAI,CAACG,IAAI,CAACO,CAAC,CAACF,KAAK,EAAEC,OAAO,CAAC;EAAA;EAAA,KAE1FH,KAAK,GAAG,YAAY;IAClB,IAAOK,EAAE,GAAIf,MAAM,CAAZe,EAAE;IACT,IAAMC,GAAG,GAAGlB,YAAY,CAACmB,MAAM;IAE/Bb,KAAI,CAACG,IAAI,CAACW,cAAc,GAAG,IAAI;IAC/Bd,KAAI,CAACG,IAAI,CAACU,MAAM,GAAGF,EAAE,CAACI,gBAAgB,GAAGH,GAAG,GAAGD,EAAE,CAACK,QAAQ;EAC5D,CAAC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}