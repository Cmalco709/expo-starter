{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _excluded = [\"forwardedRef\"];\nvar _jsxFileName = \"/workspaces/expo-starter/node_modules/react-native-ui-lib/src/commons/asBaseComponent.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport * as Modifiers from \"./modifiers\";\nimport { Scheme, ThemeManager } from \"../style\";\nimport forwardRef from \"./forwardRef\";\nimport UIComponent from \"./UIComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar EMPTY_MODIFIERS = {};\nfunction asBaseComponent(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var BaseComponent = function (_UIComponent) {\n    function BaseComponent() {\n      var _this;\n      _classCallCheck(this, BaseComponent);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, BaseComponent, [].concat(args));\n      _this.state = {\n        error: false\n      };\n      _this.appearanceListener = function () {\n        _this.setState({\n          colorScheme: Scheme.getSchemeType()\n        });\n      };\n      return _this;\n    }\n    _inherits(BaseComponent, _UIComponent);\n    return _createClass(BaseComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        Scheme.addChangeListener(this.appearanceListener);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        Scheme.removeChangeListener(this.appearanceListener);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _UIComponent$defaultP;\n        var themeProps = options.ignoreTheme ? this.props : BaseComponent.getThemeProps(this.props, this.context);\n        var modifiers = options.ignoreModifiers ? EMPTY_MODIFIERS : Modifiers.generateModifiersStyle(options.modifiersOptions, themeProps);\n        var forwardedRef = themeProps.forwardedRef,\n          others = _objectWithoutProperties(themeProps, _excluded);\n        return this.state.error && ((_UIComponent$defaultP = UIComponent.defaultProps) == null ? void 0 : _UIComponent$defaultP.renderError) || _jsxDEV(WrappedComponent, _objectSpread(_objectSpread({}, others), {}, {\n          modifiers: modifiers,\n          ref: forwardedRef\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 75\n        }, this);\n      }\n    }], [{\n      key: \"getDerivedStateFromError\",\n      value: function getDerivedStateFromError(error) {\n        var _UIComponent$defaultP2;\n        (_UIComponent$defaultP2 = UIComponent.defaultProps) == null ? void 0 : _UIComponent$defaultP2.onError == null ? void 0 : _UIComponent$defaultP2.onError(error, WrappedComponent.defaultProps);\n        return {\n          error: true\n        };\n      }\n    }]);\n  }(UIComponent);\n  BaseComponent.getThemeProps = function (props, context) {\n    return Modifiers.getThemeProps.call(WrappedComponent, props, context);\n  };\n  hoistStatics(BaseComponent, WrappedComponent);\n  BaseComponent.displayName = WrappedComponent.displayName;\n  BaseComponent.propTypes = WrappedComponent.propTypes;\n  BaseComponent.defaultProps = WrappedComponent.defaultProps;\n  var ThemeContext = ThemeManager.getThemeContext();\n  if (ThemeContext) {\n    BaseComponent.contextType = ThemeContext;\n  }\n  return forwardRef(BaseComponent);\n}\nexport default asBaseComponent;","map":{"version":3,"names":["React","hoistStatics","Modifiers","Scheme","ThemeManager","forwardRef","UIComponent","jsxDEV","_jsxDEV","EMPTY_MODIFIERS","asBaseComponent","WrappedComponent","options","arguments","length","undefined","BaseComponent","_UIComponent","_this","_classCallCheck","_len","args","Array","_key","_callSuper","concat","state","error","appearanceListener","setState","colorScheme","getSchemeType","_inherits","_createClass","key","value","componentDidMount","addChangeListener","componentWillUnmount","removeChangeListener","render","_UIComponent$defaultP","themeProps","ignoreTheme","props","getThemeProps","context","modifiers","ignoreModifiers","generateModifiersStyle","modifiersOptions","forwardedRef","others","_objectWithoutProperties","_excluded","defaultProps","renderError","_objectSpread","ref","fileName","_jsxFileName","lineNumber","columnNumber","getDerivedStateFromError","_UIComponent$defaultP2","onError","call","displayName","propTypes","ThemeContext","getThemeContext","contextType"],"sources":["/workspaces/expo-starter/node_modules/react-native-ui-lib/src/commons/asBaseComponent.js"],"sourcesContent":["import React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport * as Modifiers from \"./modifiers\";\nimport { Scheme, ThemeManager } from \"../style\";\nimport forwardRef from \"./forwardRef\";\nimport UIComponent from \"./UIComponent\";\nconst EMPTY_MODIFIERS = {};\nfunction asBaseComponent(WrappedComponent, options = {}) {\n  class BaseComponent extends UIComponent {\n    state = {\n      error: false\n    };\n    componentDidMount() {\n      Scheme.addChangeListener(this.appearanceListener);\n    }\n    componentWillUnmount() {\n      Scheme.removeChangeListener(this.appearanceListener);\n    }\n    appearanceListener = () => {\n      // iOS 13 and above will trigger this call with the wrong colorScheme value. So just ignore returned colorScheme for now\n      // https://github.com/facebook/react-native/issues/28525\n      // this.setState({colorScheme: Appearance.getColorScheme()});\n      this.setState({\n        colorScheme: Scheme.getSchemeType()\n      });\n    };\n    static getThemeProps = (props, context) => {\n      return Modifiers.getThemeProps.call(WrappedComponent, props, context);\n    };\n    static getDerivedStateFromError(error) {\n      UIComponent.defaultProps?.onError?.(error, WrappedComponent.defaultProps);\n      return {\n        error: true\n      };\n    }\n    render() {\n      const themeProps = options.ignoreTheme ? this.props : BaseComponent.getThemeProps(this.props, this.context);\n      const modifiers = options.ignoreModifiers ? EMPTY_MODIFIERS : Modifiers.generateModifiersStyle(options.modifiersOptions, themeProps);\n      // TODO: omit original modifiers props (left, right, flex, etc..)\n      // Because they throws an error when being passed to RNView on Android\n      // @ts-expect-error\n      const {\n        forwardedRef,\n        ...others\n      } = themeProps;\n      return this.state.error && UIComponent.defaultProps?.renderError || <WrappedComponent {...others} modifiers={modifiers} ref={forwardedRef} />;\n    }\n  }\n\n  // Statics\n  hoistStatics(BaseComponent, WrappedComponent);\n  BaseComponent.displayName = WrappedComponent.displayName;\n  BaseComponent.propTypes = WrappedComponent.propTypes;\n  BaseComponent.defaultProps = WrappedComponent.defaultProps;\n  const ThemeContext = ThemeManager.getThemeContext();\n  if (ThemeContext) {\n    BaseComponent.contextType = ThemeContext;\n  }\n  return forwardRef(BaseComponent);\n}\nexport default asBaseComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}